{"ast":null,"code":"import _regeneratorRuntime from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import EditApplication from\"./EditApplication\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListApplications=function ListApplications(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),applications=_useState2[0],setApplications=_useState2[1];var APIServer=\"http://192.168.180.14:5000\";// delete funuction\nvar deleteTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(serial){var deleteApplication;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(APIServer,\"/application/\").concat(serial),{method:\"DELETE\"});case 3:deleteApplication=_context.sent;setApplications(applications.filter(function(application){return application.Serial!==serial;}));console.log(deleteApplication);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function deleteTodo(_x){return _ref.apply(this,arguments);};}();var getApplications=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,jsonData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(APIServer,\"/application\"));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:jsonData=_context2.sent;setApplications(jsonData);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function getApplications(){return _ref2.apply(this,arguments);};}();useEffect(function(){getApplications();},[]);console.log(applications);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-5 text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Application_URL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:applications.map(function(application){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"div\",{children:application.Application_Name}),/*#__PURE__*/_jsx(\"div\",{children:application.Description})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{target:\"_blank\",href:application.Application_URL,children:\"LINK\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(EditApplication,{application:application})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteTodo(application.Serial);},children:\"Delete\"})})]},application.Serial);})})]})});};export default ListApplications;","map":{"version":3,"sources":["C:/CLASSFILES/Other-Resources/ITDB/client/src/components/ListApplications.js"],"names":["React","Fragment","useEffect","useState","EditApplication","ListApplications","applications","setApplications","APIServer","deleteTodo","serial","fetch","method","deleteApplication","filter","application","Serial","console","log","error","message","getApplications","response","json","jsonData","map","Application_Name","Description","Application_URL"],"mappings":"6dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,eAEaF,QAAQ,CAAC,EAAD,CAFrB,wCAEpBG,YAFoB,eAENC,eAFM,eAI3B,GAAMC,CAAAA,SAAS,CAAG,4BAAlB,CAEA;AAEA,GAAMC,CAAAA,UAAU,0FAAG,iBAAOC,MAAP,8KAGqBC,CAAAA,KAAK,WAAIH,SAAJ,yBAA6BE,MAA7B,EAAuC,CACxEE,MAAM,CAAE,QADgE,CAAvC,CAH1B,QAGLC,iBAHK,eAMXN,eAAe,CAACD,YAAY,CAACQ,MAAb,CAAoB,SAAAC,WAAW,QAAIA,CAAAA,WAAW,CAACC,MAAZ,GAAuBN,MAA3B,EAA/B,CAAD,CAAf,CACAO,OAAO,CAACC,GAAR,CAAYL,iBAAZ,EAPW,+EASXI,OAAO,CAACE,KAAR,CAAc,YAAIC,OAAlB,EATW,oEAAH,kBAAVX,CAAAA,UAAU,4CAAhB,CAcA,GAAMY,CAAAA,eAAe,2FAAG,sMAEOV,CAAAA,KAAK,WAAIH,SAAJ,iBAFZ,QAEVc,QAFU,uCAGOA,CAAAA,QAAQ,CAACC,IAAT,EAHP,QAGVC,QAHU,gBAKhBjB,eAAe,CAACiB,QAAD,CAAf,CALgB,qFAOhBP,OAAO,CAACE,KAAR,CAAc,aAAIC,OAAlB,EAPgB,uEAAH,kBAAfC,CAAAA,eAAe,2CAArB,CAWAnB,SAAS,CAAC,UAAM,CACZmB,eAAe,GAElB,CAHQ,CAGN,EAHM,CAAT,CAKAJ,OAAO,CAACC,GAAR,CAAYZ,YAAZ,EACA,mBACA,KAAC,QAAD,wBACF,eAAO,SAAS,CAAC,wBAAjB,wBACE,oCACE,mCACE,4BADF,cAEE,uCAFF,cAGE,4BAHF,cAIE,8BAJF,GADF,EADF,cASE,uBACCA,YAAY,CAACmB,GAAb,CAAiB,SAAAV,WAAW,qBAEzB,mCAEI,mCAAI,qBAAMA,WAAW,CAACW,gBAAlB,EAAJ,cAA6C,qBAAMX,WAAW,CAACY,WAAlB,EAA7C,GAFJ,cAII,iCAAI,UAAG,MAAM,CAAC,QAAV,CAAmB,IAAI,CAAEZ,WAAW,CAACa,eAArC,kBAAJ,EAJJ,cAKI,iCAAI,KAAC,eAAD,EAAiB,WAAW,CAAEb,WAA9B,EAAJ,EALJ,cAMI,iCACA,eAAQ,SAAS,CAAC,gBAAlB,CACA,OAAO,CAAE,yBAAMN,CAAAA,UAAU,CAACM,WAAW,CAACC,MAAb,CAAhB,EADT,oBADA,EANJ,GAASD,WAAW,CAACC,MAArB,CAFyB,EAA5B,CADD,EATF,GADE,EADA,CAiCH,CAxED,CA0EA,cAAeX,CAAAA,gBAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport EditApplication from \"./EditApplication\";\r\n\r\nconst ListApplications = () => {\r\n\r\n    const [applications, setApplications] = useState([]);\r\n\r\n    const APIServer = \"http://192.168.180.14:5000\"\r\n\r\n    // delete funuction\r\n\r\n    const deleteTodo = async (serial) => {\r\n        \r\n        try {\r\n            const deleteApplication = await fetch(`${APIServer}/application/${serial}`, {\r\n                method: \"DELETE\"\r\n            });\r\n            setApplications(applications.filter(application => application.Serial !== serial));\r\n            console.log(deleteApplication);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n\r\n    }\r\n\r\n    const getApplications = async () => {\r\n        try {\r\n            const response = await fetch(`${APIServer}/application`);\r\n            const jsonData = await response.json();\r\n\r\n            setApplications(jsonData);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getApplications();\r\n\r\n    }, []);\r\n\r\n    console.log(applications);\r\n    return (\r\n    <Fragment>\r\n  <table className=\"table mt-5 text-center\">\r\n    <thead>\r\n      <tr>\r\n        <th>Name</th>\r\n        <th>Application_URL</th>\r\n        <th>Edit</th>\r\n        <th>Delete</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {applications.map(application => (\r\n        \r\n        <tr key={application.Serial}>\r\n            \r\n            <td><div>{application.Application_Name}</div><div>{application.Description}</div>\r\n            </td>\r\n            <td><a target=\"_blank\" href={application.Application_URL}>LINK</a></td>\r\n            <td><EditApplication application={application}/></td>\r\n            <td>\r\n            <button className=\"btn btn-danger\"\r\n            onClick={() => deleteTodo(application.Serial)}\r\n            >Delete</button>    \r\n            </td>\r\n        </tr>  \r\n    ))}    \r\n      \r\n    </tbody>\r\n  </table>\r\n\r\n    </Fragment>);\r\n\r\n};\r\n\r\nexport default ListApplications;"]},"metadata":{},"sourceType":"module"}