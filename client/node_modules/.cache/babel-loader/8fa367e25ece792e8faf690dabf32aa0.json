{"ast":null,"code":"import _regeneratorRuntime from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/CLASSFILES/Other-Resources/ITDB/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useEffect,useState}from'react';import EditVendor from\"./EditVendor\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListVendors=function ListVendors(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),vendors=_useState2[0],setVendors=_useState2[1];var APIServer=\"http://192.168.180.14:5000\";//const APIServer = \"http://192.168.180.156:5000\"\n// delete function\nvar deleteVendor=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(serial){var _deleteVendor;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(APIServer,\"/vendor/\").concat(serial),{method:\"DELETE\"});case 3:_deleteVendor=_context.sent;setVendors(vendors.filter(function(vendor){return vendor.Serial!==serial;}));console.log(_deleteVendor);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function deleteVendor(_x){return _ref.apply(this,arguments);};}();var getVendors=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,jsonData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"\".concat(APIServer,\"/vendor\"));case 3:response=_context2.sent;_context2.next=6;return response.json();case 6:jsonData=_context2.sent;setVendors(jsonData);_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0.message);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function getVendors(){return _ref2.apply(this,arguments);};}();useEffect(function(){getVendors();},[]);console.log(vendors);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table mt-5 text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Company Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Account Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Notes\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contract Renewal\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:vendors.map(function(vendor){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{children:vendor.Company_Name})}),/*#__PURE__*/_jsx(\"td\",{children:vendor.Account_Number}),/*#__PURE__*/_jsx(\"td\",{children:vendor.Notes}),/*#__PURE__*/_jsx(\"td\",{children:vendor.Contract_Renewal}),/*#__PURE__*/_jsx(\"td\",{children:\"EDIT BUTTON\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return deleteVendor(vendor.Serial);},children:\"Delete\"})})]},vendor.Serial);})})]})});};export default ListVendors;","map":{"version":3,"sources":["C:/CLASSFILES/Other-Resources/ITDB/client/src/components/ListVendors.js"],"names":["React","Fragment","useEffect","useState","EditVendor","ListVendors","vendors","setVendors","APIServer","deleteVendor","serial","fetch","method","filter","vendor","Serial","console","log","error","message","getVendors","response","json","jsonData","map","Company_Name","Account_Number","Notes","Contract_Renewal"],"mappings":"6dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,QAArC,KAAqD,OAArD,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eAEQF,QAAQ,CAAC,EAAD,CAFhB,wCAEfG,OAFe,eAENC,UAFM,eAItB,GAAMC,CAAAA,SAAS,CAAG,4BAAlB,CACA;AAEA;AAEA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,MAAP,0KAGcC,CAAAA,KAAK,WAAIH,SAAJ,oBAAwBE,MAAxB,EAAkC,CAC9DE,MAAM,CAAE,QADsD,CAAlC,CAHnB,QAGPH,aAHO,eAMbF,UAAU,CAACD,OAAO,CAACO,MAAR,CAAe,SAAAC,MAAM,QAAIA,CAAAA,MAAM,CAACC,MAAP,GAAkBL,MAAtB,EAArB,CAAD,CAAV,CACAM,OAAO,CAACC,GAAR,CAAYR,aAAZ,EAPa,+EASbO,OAAO,CAACE,KAAR,CAAc,YAAIC,OAAlB,EATa,oEAAH,kBAAZV,CAAAA,YAAY,4CAAlB,CAcA,GAAMW,CAAAA,UAAU,2FAAG,sMAEYT,CAAAA,KAAK,WAAIH,SAAJ,YAFjB,QAELa,QAFK,uCAGYA,CAAAA,QAAQ,CAACC,IAAT,EAHZ,QAGLC,QAHK,gBAKXhB,UAAU,CAACgB,QAAD,CAAV,CALW,qFAOXP,OAAO,CAACE,KAAR,CAAc,aAAIC,OAAlB,EAPW,uEAAH,kBAAVC,CAAAA,UAAU,2CAAhB,CAWAlB,SAAS,CAAC,UAAM,CACZkB,UAAU,GAEb,CAHQ,CAGN,EAHM,CAAT,CAKAJ,OAAO,CAACC,GAAR,CAAYX,OAAZ,EACA,mBACA,KAAC,QAAD,wBACF,eAAO,SAAS,CAAC,wBAAjB,wBACE,oCACE,mCACE,oCADF,cAEE,sCAFF,cAGE,6BAHF,cAIE,wCAJF,cAKE,4BALF,cAME,8BANF,GADF,EADF,cAYE,uBACCA,OAAO,CAACkB,GAAR,CAAY,SAAAV,MAAM,qBAEf,mCAEI,iCAAI,qBAAMA,MAAM,CAACW,YAAb,EAAJ,EAFJ,cAII,oBAAKX,MAAM,CAACY,cAAZ,EAJJ,cAOI,oBAAKZ,MAAM,CAACa,KAAZ,EAPJ,cASI,oBAAKb,MAAM,CAACc,gBAAZ,EATJ,cAUI,mCAVJ,cAWI,iCACA,eAAQ,SAAS,CAAC,gBAAlB,CACA,OAAO,CAAE,yBAAMnB,CAAAA,YAAY,CAACK,MAAM,CAACC,MAAR,CAAlB,EADT,oBADA,EAXJ,GAASD,MAAM,CAACC,MAAhB,CAFe,EAAlB,CADD,EAZF,GADE,EADA,CAyCH,CAjFD,CAmFA,cAAeV,CAAAA,WAAf","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport EditVendor from \"./EditVendor\";\r\n\r\nconst ListVendors = () => {\r\n\r\n    const [vendors, setVendors] = useState([]);\r\n\r\n    const APIServer = \"http://192.168.180.14:5000\"\r\n    //const APIServer = \"http://192.168.180.156:5000\"\r\n\r\n    // delete function\r\n\r\n    const deleteVendor = async (serial) => {\r\n        \r\n        try {\r\n            const deleteVendor = await fetch(`${APIServer}/vendor/${serial}`, {\r\n                method: \"DELETE\"\r\n            });\r\n            setVendors(vendors.filter(vendor => vendor.Serial !== serial));\r\n            console.log(deleteVendor);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n\r\n    }\r\n\r\n    const getVendors = async () => {\r\n        try {\r\n            const response = await fetch(`${APIServer}/vendor`);\r\n            const jsonData = await response.json();\r\n\r\n            setVendors(jsonData);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        getVendors();\r\n\r\n    }, []);\r\n\r\n    console.log(vendors);\r\n    return (\r\n    <Fragment>\r\n  <table className=\"table mt-5 text-center\">\r\n    <thead>\r\n      <tr>\r\n        <th>Company Name</th>\r\n        <th>Account Number</th>\r\n        <th>Notes</th>\r\n        <th>Contract Renewal</th>\r\n        <th>Edit</th>\r\n        <th>Delete</th>\r\n        \r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {vendors.map(vendor => (\r\n        \r\n        <tr key={vendor.Serial}>\r\n            \r\n            <td><div>{vendor.Company_Name}</div>\r\n            </td>\r\n            <td>{vendor.Account_Number}</td>\r\n            {/* <td><EditVendor vendor={vendor}/></td> */}\r\n            \r\n            <td>{vendor.Notes}</td>\r\n            \r\n            <td>{vendor.Contract_Renewal}</td>\r\n            <td>EDIT BUTTON</td>\r\n            <td>\r\n            <button className=\"btn btn-danger\"\r\n            onClick={() => deleteVendor(vendor.Serial)}\r\n            >Delete</button>    \r\n            </td>\r\n        </tr>  \r\n    ))}    \r\n      \r\n    </tbody>\r\n  </table>\r\n\r\n    </Fragment>);\r\n\r\n};\r\n\r\nexport default ListVendors;"]},"metadata":{},"sourceType":"module"}